<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>fracshr — Trading for everyone, anywhere, everywhere</title>
  <meta name="description" content="fracshr is a level-based trading game that teaches you trading from zero to pro. Learn by doing, compete in Trade Wars, and master advanced tools. 150+ levels. Coming soon to iOS and Android." />
  <meta name="theme-color" content="#11131f" />
  <style>
    :root{
      --bg:#0b1020;
      --card:#121735cc;
      --card-solid:#121735;
      --text:#eef2ff;
      --muted:#c8d0ff;
      --primary:#7c5cff; /* purple */
      --primary-2:#00e5a8; /* mint */
      --accent:#ffb300; /* amber */
      --danger:#ff5d7a;
      --success:#27e39b;
      --glow: 0 0 40px rgba(124,92,255,.35), 0 0 80px rgba(0,229,168,.2);
    }
    *{box-sizing:border-box}
    html,body{height:100%;scroll-behavior:smooth;background:var(--bg);color:var(--text);font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";}
    body{margin:0;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    /* Background animation layer */
    #bg-anim{
      position:fixed;inset:0;overflow:hidden;z-index:-1;pointer-events:none;
      background:
        radial-gradient(1200px 600px at -10% -10%, rgba(124,92,255,.20), transparent 60%),
        radial-gradient(1000px 500px at 110% 0%, rgba(0,229,168,.15), transparent 60%),
        radial-gradient(800px 600px at 50% 110%, rgba(255,179,0,.12), transparent 65%),
        linear-gradient(180deg, #0b1020 0%, #0a0d1a 100%);
      filter:saturate(1.05);
    }
    .float-thing{
      position:absolute;opacity:.18;will-change:transform,opacity;filter:drop-shadow(0 8px 12px rgba(0,0,0,.35));
    }
    .candle{width:14px;height:34px;border-radius:3px;background:linear-gradient(180deg,#1ef1b7 0%,#01cf96 100%);position:absolute}
    .candle::before{content:"";position:absolute;left:6px;top:-14px;width:2px;height:14px;background:#22f0b2;border-radius:2px}
    .red .candle{background:linear-gradient(180deg,#ff6a88 0%,#ff3d65 100%)}
    .red .candle::before{background:#ff6a88}
    .bubble{width:10px;height:10px;border-radius:50%;background:linear-gradient(180deg,#7c5cff, #00e5a8);opacity:.25}
    @keyframes floatUp{
      0%{transform:translateY(20vh) scale(.6);opacity:.0}
      8%{opacity:.25}
      100%{transform:translateY(-120vh) scale(1);opacity:.0}
    }
    @media (prefers-reduced-motion: reduce){
      #bg-anim{background:#0b1020}
      .float-thing{animation:none;display:none}
    }

    /* Header */
    header{
      position:sticky;top:0;backdrop-filter:saturate(1.2) blur(8px);
      background:linear-gradient(180deg, rgba(10,13,26,.75), rgba(10,13,26,.35) 60%, transparent);
      z-index:50;border-bottom:1px solid rgba(124,92,255,.2)
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:16px;
    }
    .logo{
      font-weight:900;font-size:28px;letter-spacing:.5px;text-transform:lowercase;
      background:linear-gradient(90deg,var(--primary), #4c9aff 35%, #00e5a8 70%, #ffb300 100%);
      -webkit-background-clip:text;background-clip:text;color:transparent;
      text-shadow:0 0 0 rgba(0,0,0,0);
    }
    .badge-beta{
      font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(124,92,255,.15);color:var(--muted);margin-left:10px;border:1px solid rgba(124,92,255,.35)
    }
    nav a{color:var(--muted);opacity:.9;font-weight:600;margin:0 10px}
    .cta-btn{display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(124,92,255,.25), rgba(0,229,168,.25));color:var(--text);font-weight:800;box-shadow:var(--glow)}
    .cta-secondary{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(18,23,53,.55);color:var(--text);font-weight:700}
    .cta-btn:hover{transform:translateY(-1px);box-shadow:0 0 0 rgba(0,0,0,0), 0 0 60px rgba(124,92,255,.25)}
    .nav-right{display:flex;align-items:center;gap:10px}
    .mobile-hide{display:block}
    @media (max-width:900px){
      nav .mobile-hide{display:none}
      .logo{font-size:24px}
    }

    /* Hero */
    .hero{position:relative;padding:70px 0 40px}
    .hero h1{
      font-size: clamp(28px, 6vw, 68px);
      line-height:1.05;margin:0 0 18px;
      letter-spacing:-.02em;
      background:linear-gradient(180deg,#fff, #c9d2ff 60%, #9cb6ff 100%);
      -webkit-background-clip:text;background-clip:text;color:transparent;
      text-shadow:0 10px 40px rgba(124,92,255,.15);
    }
    .tagline{
      font-size: clamp(16px, 2.6vw, 22px); color:var(--muted); max-width:880px;margin:0 0 26px
    }
    .hero-ctas{display:flex;flex-wrap:wrap;gap:12px;margin:22px 0 0}
    .stat-band{
      display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:36px
    }
    .stat{
      background:linear-gradient(180deg, rgba(18,23,53,.9), rgba(18,23,53,.55));
      border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:16px 18px;text-align:center
    }
    .stat .big{font-size:28px;font-weight:900;color:#a6b7ff}
    .stat .small{font-size:13px;color:var(--muted)}
    @media (max-width:820px){
      .stat-band{grid-template-columns:1fr}
      .hero{padding-top:40px}
    }

    /* Feature grid */
    .section{padding:64px 0}
    .section h2{
      font-size: clamp(22px, 4.8vw, 40px); margin:0 0 16px; letter-spacing:-.02em
    }
    .muted{color:var(--muted)}
    .grid{
      display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:22px
    }
    .card{
      background:linear-gradient(180deg, rgba(18,23,53,.85), rgba(18,23,53,.6));
      border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px
    }
    .card h3{margin:0 0 8px;font-size:20px}
    .card p{margin:0;color:var(--muted)}
    .icon{
      width:32px;height:32px;border-radius:9px;display:inline-grid;place-items:center;margin-bottom:10px;
      background:linear-gradient(180deg, rgba(124,92,255,.25), rgba(0,229,168,.25));
      border:1px solid rgba(255,255,255,.1)
    }
    @media (max-width:980px){.grid{grid-template-columns:1fr 1fr}}
    @media (max-width:680px){.grid{grid-template-columns:1fr}}

    /* Preview chart card */
    .preview{
      display:grid;grid-template-columns:1.2fr .8fr;gap:18px;margin-top:22px
    }
    .panel{
      background:linear-gradient(180deg, rgba(18,23,53,.9), rgba(18,23,53,.6));
      border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px
    }
    .preview canvas{width:100%;height:260px;background:rgba(255,255,255,.03);border-radius:10px;border:1px dashed rgba(255,255,255,.08)}
    @media (max-width:900px){.preview{grid-template-columns:1fr}}

    /* Waitlist forms & sticky */
    .waitlist{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    input[type="email"], input[type="text"], input[type="tel"]{
      background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12);color:var(--text);
      padding:12px 12px;border-radius:12px;outline:none;min-width:240px;flex:1
    }
    .btn{
      background:linear-gradient(90deg,var(--primary), #4c9aff 40%, #00e5a8);
      border:none;border-radius:12px;color:#fff;font-weight:900;padding:12px 16px;cursor:pointer;box-shadow:var(--glow)
    }
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .btn-outline{background:transparent;border:1px solid rgba(255,255,255,.18);color:var(--text)}
    .sticky-waitlist{
      position:fixed;right:18px;bottom:18px;z-index:40;
      background:linear-gradient(180deg, rgba(18,23,53,.95), rgba(18,23,53,.8));
      border:1px solid rgba(124,92,255,.45);border-radius:14px;padding:12px 14px;box-shadow:var(--glow)
    }
    .pulse{animation:pulse 2.4s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(124,92,255,.45)}70%{box-shadow:0 0 0 16px rgba(124,92,255,0)}100%{box-shadow:0 0 0 0 rgba(124,92,255,0)}}

    /* Demo modal */
    .modal{position:fixed;inset:0;background:rgba(5,8,20,.72);backdrop-filter: blur(10px);display:none;align-items:center;justify-content:center;z-index:100}
    .modal[aria-hidden="false"]{display:flex}
    .modal-card{
      width:min(960px, 95vw);max-height:92vh;overflow:hidden;border-radius:18px;border:1px solid rgba(255,255,255,.1);
      background:linear-gradient(180deg, rgba(18,23,53,.98), rgba(18,23,53,.9));
      box-shadow:0 20px 80px rgba(0,0,0,.6);display:flex;flex-direction:column
    }
    .modal-header{
      padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:center;gap:10px;justify-content:space-between
    }
    .modal-title{font-weight:900;display:flex;align-items:center;gap:8px}
    .level-pill{font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(124,92,255,.15);border:1px solid rgba(124,92,255,.35);color:#cbd6ff}
    .close-x{background:transparent;border:none;color:#cbd6ff;font-size:20px;cursor:pointer}
    .modal-body{display:grid;grid-template-columns: 1.1fr .9fr;gap:0;min-height:460px}
    .board{padding:14px;border-right:1px solid rgba(255,255,255,.06)}
    .trade{padding:14px}
    @media (max-width:820px){
      .modal-body{grid-template-columns:1fr;max-height:72vh;overflow:auto}
      .board{border-right:none;border-bottom:1px solid rgba(255,255,255,.06)}
    }
    .statbar{
      display:grid;grid-template-columns: repeat(3,1fr);gap:8px;margin:8px 0 12px
    }
    .mini{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px}
    .mini .k{font-size:12px;color:#b8c4ff}
    .mini .v{font-weight:900;font-size:18px}
    .green{color:#00e5a8}
    .red{color:#ff6a88}
    .price-tape{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background:rgba(255,255,255,.03);border:1px dashed rgba(255,255,255,.08);border-radius:12px;
      padding:10px 12px;margin:8px 0 12px;display:flex;align-items:center;justify-content:space-between
    }
    .goal{
      background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:10px;margin-top:8px
    }
    .goalbar{background:#1a2040;border-radius:8px;height:10px;overflow:hidden;margin-top:8px}
    .goalbar > span{display:block;height:100%;width:0;background:linear-gradient(90deg,#7c5cff,#00e5a8);box-shadow:var(--glow)}
    .hint{color:#b6c2ff;font-size:14px;margin-top:6px}
    .trade .card{margin-bottom:10px}
    .row{display:flex;gap:10px;align-items:center}
    .row input[type="number"]{flex:1;min-width:100px}
    .actions{display:flex;gap:10px;margin-top:8px}
    .buy{background:linear-gradient(90deg,#01cf96,#27e39b 60%, #6af2c8);font-weight:900}
    .sell{background:linear-gradient(90deg,#ff3d65,#ff6a88 60%, #ffa7b8);font-weight:900}
    .next-wrap{display:flex;justify-content:flex-end;border-top:1px solid rgba(255,255,255,.06);padding:10px 14px}
    .next{font-weight:900;padding:10px 16px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:linear-gradient(90deg,#7c5cff,#00e5a8);color:#fff}
    .next:disabled{opacity:.6}
    .ghost{opacity:.55}
    .progress-line{height:4px;background:linear-gradient(90deg,#7c5cff,#00e5a8);width:0;border-radius:4px;transition:width .35s ease}
    .top-progress{height:4px;background:rgba(255,255,255,.06)}
    .modal-footer-note{font-size:12px;color:#9cadff;padding:6px 14px 12px}
    /* Stars celebration */
    .celebrate{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);backdrop-filter: blur(4px);z-index:110}
    .celebrate[aria-hidden="false"]{display:flex}
    .star-card{
      background:linear-gradient(180deg, rgba(18,23,53,.98), rgba(18,23,53,.92));
      border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:24px 22px;text-align:center;max-width:520px;width:92%;
      box-shadow:0 30px 120px rgba(0,0,0,.75)
    }
    .stars{font-size:44px;letter-spacing:6px;margin-bottom:10px}
    .stars .s{filter:drop-shadow(0 6px 14px rgba(255,179,0,.35))}
    .confetti{position:absolute;inset:0;pointer-events:none}
    /* Register Interest Modal */
    .wait-modal .modal-card{max-width:560px}
    .platform-badges{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}
    .platform-badge{
      display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);color:#cbd6ff;font-weight:700
    }

    /* FAQ */
    details{
      background:linear-gradient(180deg, rgba(18,23,53,.9), rgba(18,23,53,.65));
      border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 14px
    }
    details + details{margin-top:10px}
    summary{cursor:pointer;font-weight:800}
    summary::-webkit-details-marker{display:none}

    /* Footer */
    footer{padding:28px 0;color:#a9b6ff;border-top:1px solid rgba(255,255,255,.08)}
    .foot-grid{display:grid;grid-template-columns:1fr auto;gap:10px}
    @media (max-width:720px){.foot-grid{grid-template-columns:1fr}}

    /* Tiny helpers */
    .chip{display:inline-flex;align-items:center;gap:8px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:6px 10px;color:#cbd6ff;font-weight:700}
    .check{color:#27e39b}
    .x{color:#ff6a88}
  </style>
</head>
<body>
  <!-- Animated background -->
  <div id="bg-anim" aria-hidden="true"></div>

  <header>
    <div class="container nav">
      <div style="display:flex;align-items:center;gap:8px">
        <div class="logo" aria-label="fracshr logo">fracshr</div>
        <span class="badge-beta">Beta Preview</span>
      </div>
      <nav>
        <a class="mobile-hide" href="#features">Features</a>
        <a class="mobile-hide" href="#levels">Levels</a>
        <a class="mobile-hide" href="#wars">Trade Wars</a>
        <a class="mobile-hide" href="#tools">Tools</a>
        <a class="mobile-hide" href="#faq">FAQ</a>
      </nav>
      <div class="nav-right">
        <button class="cta-secondary" onclick="openModal('demoModal')" aria-label="Open demo">Play Demo</button>
        <button class="cta-btn" onclick="openModal('waitlistModal')" aria-label="Join waitlist">Join the Waitlist</button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero container">
      <div class="top-progress" aria-hidden="true"><div id="scrollProgress" class="progress-line"></div></div>
      <h1>Trading for everyone — anywhere, everywhere</h1>
      <p class="tagline">fracshr is a level‑based, tutorial‑first trading game. Learn the basics, master pro features, compete in Trade Wars, and design your own challenges. 150+ levels packed with scenarios, smart hints, and advanced charts. No real money. All real skills.</p>
      <div class="hero-ctas">
        <button class="cta-btn" onclick="openModal('demoModal')">Play 60‑second Demo</button>
        <button class="cta-secondary" onclick="document.getElementById('levels').scrollIntoView({behavior:'smooth'})">Explore Levels</button>
        <button class="cta-secondary mobile-hide" onclick="openModal('waitlistModal')">Get Early Access</button>
      </div>
      <div class="stat-band">
        <div class="stat">
          <div class="big">150+ Levels</div>
          <div class="small">Beginner to Pro with bite‑sized missions</div>
        </div>
        <div class="stat">
          <div class="big">Live‑feel Data</div>
          <div class="small">Charts, indicators, and risk tools you’ll actually use</div>
        </div>
        <div class="stat">
          <div class="big">Trade Wars</div>
          <div class="small">Invite friends. Timed duels. Most profit wins.</div>
        </div>
      </div>
    </section>

    <section id="features" class="section container">
      <h2>Why sign up for fracshr?</h2>
      <p class="muted">Built for absolute beginners and aspiring pros. Learn by doing with a game that rewards smart decisions.</p>
      <div class="grid">
        <div class="card">
          <div class="icon">🎯</div>
          <h3>Level‑based mastery</h3>
          <p>Structured curriculum with 150+ levels that teach everything from order types to risk management and strategy.</p>
        </div>
        <div class="card">
          <div class="icon">🧭</div>
          <h3>Tutorial‑first design</h3>
          <p>Every action is explained with prompts and hints. Learn concepts exactly when you need them.</p>
        </div>
        <div class="card">
          <div class="icon">📈</div>
          <h3>Advanced charts</h3>
          <p>Candlesticks, indicators, and interactive overlays to understand price action and volatility.</p>
        </div>
        <div class="card">
          <div class="icon">⚔️</div>
          <h3>Trade Wars</h3>
          <p>Invite friends to timed profit battles. Same rules. Same clock. Highest return takes the crown.</p>
        </div>
        <div class="card">
          <div class="icon">🛠️</div>
          <h3>Design challenges</h3>
          <p>Build your own scenarios, set goals, and broadcast them to the community leaderboard.</p>
        </div>
        <div class="card">
          <div class="icon">🏆</div>
          <h3>Progress that matters</h3>
          <p>Stars, streaks, and badges keep you motivated. Unlock pro tools as you advance.</p>
        </div>
      </div>
      <div class="preview">
        <div class="panel">
          <h3 style="margin-top:0">See the flow: learn ➜ practice ➜ compete</h3>
          <canvas id="miniChart" aria-label="Sample chart preview"></canvas>
          <p class="muted" style="margin-top:10px">Real‑feel price moves, simulated P&L, and actionable feedback help you turn concepts into muscle memory.</p>
        </div>
        <div class="panel">
          <h3 style="margin-top:0">What you’ll master</h3>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
            <div class="chip"><span class="check">✔</span> Order types</div>
            <div class="chip"><span class="check">✔</span> Risk & sizing</div>
            <div class="chip"><span class="check">✔</span> Chart reading</div>
            <div class="chip"><span class="check">✔</span> Momentum</div>
            <div class="chip"><span class="check">✔</span> Swing & day</div>
            <div class="chip"><span class="check">✔</span> Psychology</div>
          </div>
          <div class="waitlist">
            <input id="wlEmailTop" type="email" placeholder="you@email.com" aria-label="Email" />
            <button class="btn" onclick="joinWaitlist('wlEmailTop')">Join the waitlist</button>
          </div>
          <p class="muted" style="font-size:12px;margin-top:8px">Coming soon on iOS & Android. Educational simulation only.</p>
        </div>
      </div>
    </section>

    <section id="levels" class="section container">
      <h2>150+ levels. Clear goals. Instant feedback.</h2>
      <p class="muted">From your first market buy to multi‑asset portfolio challenges—every level is a hands‑on mission with a target and a time box.</p>
      <div class="grid">
        <div class="card">
          <h3>Foundation (Lv 1–20)</h3>
          <p>Market vs. limit, bid/ask, spreads, and reading candles. Get comfortable with the basics.</p>
        </div>
        <div class="card">
          <h3>Strategy (Lv 21–80)</h3>
          <p>Trend following, breakouts, pullbacks, and risk‑reward. Learn when to hold and when to fold.</p>
        </div>
        <div class="card">
          <h3>Pro Toolkit (Lv 81–150+)</h3>
          <p>Multi‑timeframe confluence, indicators, sizing, and scenario planning under time pressure.</p>
        </div>
      </div>
    </section>

    <section id="wars" class="section container">
      <h2>Trade Wars: bring your A‑game</h2>
      <p class="muted">Invite friends or match automatically. 5–15 minute duels with identical assets. Highest profit wins. Anti‑stall rules keep it fast.</p>
      <div class="grid">
        <div class="card">
          <div class="icon">⏱️</div>
          <h3>Timed rounds</h3>
          <p>Short, intense, and fair. Make decisions under a real clock.</p>
        </div>
        <div class="card">
          <div class="icon">📣</div>
          <h3>Broadcast your challenges</h3>
          <p>Design a scenario, set the rules, and share a code to invite the world.</p>
        </div>
        <div class="card">
          <div class="icon">🥇</div>
          <h3>Leaderboards</h3>
          <p>Climb weekly and all‑time ranks. Earn badges and seasonal rewards.</p>
        </div>
      </div>
      <div class="hero-ctas" style="margin-top:18px">
        <button class="cta-btn" onclick="openModal('demoModal')">Try the demo</button>
        <button class="cta-secondary" onclick="openModal('waitlistModal')">Register interest</button>
      </div>
    </section>

    <section id="tools" class="section container">
      <h2>Pro‑grade tools made playful</h2>
      <p class="muted">Explore risk calculators, position sizing helpers, multi‑chart layouts, and session replays—without the learning cliff.</p>
      <div class="grid">
        <div class="card"><h3>Replay Levels</h3><p>Rewatch trades with event markers and coach tips.</p></div>
        <div class="card"><h3>Risk Assistant</h3><p>Position sizing with real‑time R:R and drawdown hints.</p></div>
        <div class="card"><h3>Multi‑asset Sandbox</h3><p>Practice across equities, crypto, and forex simulations.</p></div>
      </div>
    </section>

    <section id="faq" class="section container">
      <h2>FAQ</h2>
      <details>
        <summary>Is fracshr real money trading?</summary>
        <p class="muted">No. fracshr is an educational simulation. You’ll practice with virtual cash to build real‑world skills.</p>
      </details>
      <details>
        <summary>When will the app be available?</summary>
        <p class="muted">We’re launching on iOS and Android soon. Join the waitlist to be first in line.</p>
      </details>
      <details>
        <summary>Can I create my own challenges?</summary>
        <p class="muted">Yes! Design scenarios and broadcast them to friends or the community. Great for classrooms and clubs.</p>
      </details>
      <details>
        <summary>What’s a Trade War?</summary>
        <p class="muted">A time‑boxed head‑to‑head with identical inputs. Most profit at the buzzer wins. Simple rules, deep strategy.</p>
      </details>
    </section>
  </main>

  <footer>
    <div class="container foot-grid">
      <div>
        <div class="logo">fracshr</div>
        <div style="font-size:12px;margin-top:6px">© <span id="yr"></span> fracshr. All rights reserved. Educational purposes only.</div>
      </div>
      <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:flex-end">
        <a href="#" class="chip">Privacy</a>
        <a href="#" class="chip">Terms</a>
        <a href="#" class="chip">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Sticky Waitlist -->
  <div class="sticky-waitlist pulse" role="dialog" aria-label="Join the fracshr waitlist">
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <div style="font-weight:900">Get early access</div>
      <input id="wlEmailSticky" type="email" placeholder="you@email.com" aria-label="Email" />
      <button class="btn" onclick="joinWaitlist('wlEmailSticky')">Notify me</button>
      <button class="btn btn-outline" onclick="openModal('demoModal')">Play Demo</button>
    </div>
    <div style="font-size:11px;color:#9cadff;margin-top:6px">Coming soon to iOS & Android</div>
  </div>

  <!-- Demo Game Modal -->
  <div id="demoModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="demoTitle">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-title">
          <span class="logo" style="font-size:20px">fracshr</span>
          <span class="level-pill">Demo Level • Goal: $11,000</span>
        </div>
        <button class="close-x" onclick="closeModal('demoModal')" aria-label="Close demo">✕</button>
      </div>
      <div class="modal-body">
        <div class="board">
          <div class="price-tape">
            <div><strong>Ticker:</strong> FRX</div>
            <div><strong>Price:</strong> $<span id="dmPrice">100.00</span></div>
          </div>
          <div class="statbar">
            <div class="mini">
              <div class="k">Cash</div>
              <div class="v">$<span id="dmCash">10,000.00</span></div>
            </div>
            <div class="mini">
              <div class="k">Holdings</div>
              <div class="v"><span id="dmShares">0</span> sh @ $<span id="dmAvg">0.00</span></div>
            </div>
            <div class="mini">
              <div class="k">Unrealized P/L</div>
              <div class="v"><span id="dmPL" class="ghost">$0.00</span></div>
            </div>
          </div>
          <div class="goal">
            <div><strong>Portfolio value:</strong> $<span id="dmPV">10,000.00</span> <span id="dmGoalHit" class="level-pill" style="display:none;margin-left:8px;background:rgba(0,229,168,.18);border-color:rgba(0,229,168,.5);color:#9dffe5">Goal reached!</span></div>
            <div class="goalbar"><span id="dmGoalBar"></span></div>
            <div class="hint" id="dmHint">Welcome! You have $10,000 virtual cash. Your mission: reach $11,000. Tap Next to begin.</div>
          </div>
          <div id="demoChart" style="height:220px;background:rgba(255,255,255,.03);border:1px dashed rgba(255,255,255,.08);border-radius:12px;margin-top:12px;position:relative;overflow:hidden">
            <!-- lightweight line drawn via JS -->
            <canvas id="dmCanvas" style="width:100%;height:100%"></canvas>
          </div>
        </div>
        <div class="trade">
          <div class="card">
            <h3 style="margin:0 0 4px">Place a trade</h3>
            <p class="muted" id="dmStepText" style="margin:0 0 10px">We’ll guide you. Start when ready.</p>
            <div class="row">
              <label for="dmQty" style="font-weight:700">Quantity</label>
              <input id="dmQty" type="number" min="1" step="1" value="100" />
            </div>
            <div class="actions">
              <button id="buyBtn" class="btn buy" onclick="demoBuy()">Buy</button>
              <button id="sellBtn" class="btn sell" onclick="demoSell()" disabled>Sell</button>
              <button class="btn btn-outline" onclick="demoReset()">Reset</button>
            </div>
            <p class="hint" id="dmNote">Tip: Buying uses cash to acquire shares. Your portfolio value = cash + shares × price.</p>
          </div>
          <div class="card">
            <h3 style="margin-top:0">Step progress</h3>
            <div style="height:8px;background:rgba(255,255,255,.06);border-radius:6px;overflow:hidden">
              <div id="dmStepProgress" class="progress-line" style="height:8px"></div>
            </div>
            <p class="muted" style="font-size:12px;margin-top:8px">Tap Next after each event to move at a comfortable pace.</p>
          </div>
        </div>
      </div>
      <div class="next-wrap">
        <button id="dmNext" class="next" onclick="demoNext()">Next</button>
      </div>
      <div class="modal-footer-note">Educational simulation. Prices are illustrative for the demo.</div>
    </div>
  </div>

  <!-- Celebration -->
  <div id="celebrate" class="celebrate" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="star-card">
      <div class="stars">
        <span class="s">⭐️</span><span class="s">⭐️</span><span class="s">⭐️</span>
      </div>
      <h2 style="margin:8px 0 6px">Congratulations — Level Completed!</h2>
      <p class="muted">You reached $11,000. Nice work! Ready to keep the streak alive?</p>
      <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
        <button class="btn" onclick="closeCelebrateThenOpenWaitlist()">Register interest</button>
        <button class="btn btn-outline" onclick="closeCelebrate()">Close</button>
      </div>
    </div>
    <div id="confetti" class="confetti"></div>
  </div>

  <!-- Waitlist Modal -->
  <div id="waitlistModal" class="modal wait-modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="waitTitle">
    <div class="modal-card">
      <div class="modal-header">
        <div class="modal-title">
          <span id="waitTitle" style="font-weight:900">Register your interest</span>
          <span class="level-pill">Launch: iOS & Android</span>
        </div>
        <button class="close-x" onclick="closeModal('waitlistModal')" aria-label="Close">✕</button>
      </div>
      <div class="board" style="border-right:none">
        <p class="muted">Be first to play the full game with 150+ levels, Trade Wars, and creator tools.</p>
        <div class="waitlist">
          <input id="wlName" type="text" placeholder="Your name (optional)" />
          <input id="wlEmail" type="email" placeholder="Email" />
          <input id="wlPhone" type="tel" placeholder="Phone (optional)" />
          <button class="btn" onclick="joinWaitlist('wlEmail','wlName','wlPhone')">Join waitlist</button>
        </div>
        <div class="platform-badges">
          <div class="platform-badge">📱 iOS • Coming soon</div>
          <div class="platform-badge">🤖 Android • Coming soon</div>
        </div>
        <p class="muted" style="font-size:12px;margin-top:8px">We’ll only use your info to notify you about launch and early access.</p>
      </div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById('yr').textContent = new Date().getFullYear();

    // Scroll progress
    const sp = document.getElementById('scrollProgress');
    document.addEventListener('scroll', () => {
      const h = document.documentElement;
      const scrolled = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
      sp.style.width = scrolled + '%';
    });

    // Background animated bits
    (function bg(){
      const root = document.getElementById('bg-anim');
      const count = 20;
      const bCount = 16;
      for(let i=0;i<count;i++){
        const wrap = document.createElement('div');
        wrap.className = 'float-thing';
        wrap.style.left = Math.random()*100 + 'vw';
        wrap.style.top = (60 + Math.random()*40) + 'vh';
        wrap.style.animation = `floatUp ${16 + Math.random()*14}s linear ${Math.random()*-20}s infinite`;
        wrap.style.transform = `translateY(${Math.random()*40}vh)`;
        const candleWrap = document.createElement('div');
        if(Math.random()>.5) candleWrap.classList.add('red');
        const c = document.createElement('div'); c.className='candle';
        candleWrap.appendChild(c);
        wrap.appendChild(candleWrap);
        root.appendChild(wrap);
      }
      for(let i=0;i<bCount;i++){
        const bub = document.createElement('div');
        bub.className = 'float-thing bubble';
        bub.style.left = Math.random()*100 + 'vw';
        bub.style.top = (70 + Math.random()*35) + 'vh';
        bub.style.animation = `floatUp ${20 + Math.random()*18}s linear ${Math.random()*-25}s infinite`;
        bub.style.width = bub.style.height = (8 + Math.random()*14) + 'px';
        root.appendChild(bub);
      }
    })();

    // Mini chart in features
    (function mini(){
      const c = document.getElementById('miniChart');
      const ctx = c.getContext ? c.getContext('2d') : null;
      if(!ctx) return;
      // Fit canvas to size
      function size(){ c.width = c.clientWidth; c.height = c.clientHeight; draw(); }
      window.addEventListener('resize', size);
      const pts = [];
      let v=50;
      for(let i=0;i<90;i++){
        v += (Math.random()-.3)*4;
        v = Math.max(8, Math.min(92, v));
        pts.push(v);
      }
      function draw(){
        ctx.clearRect(0,0,c.width,c.height);
        // grid
        ctx.strokeStyle = 'rgba(255,255,255,.06)';
        ctx.lineWidth = 1;
        for(let i=0;i<6;i++){
          const y = (i/5)*c.height;
          ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(c.width,y);ctx.stroke();
        }
        // line glow
        ctx.beginPath();
        for(let i=0;i<pts.length;i++){
          const x = (i/(pts.length-1))*c.width;
          const y = c.height - (pts[i]/100)*c.height;
          if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
        }
        const grad = ctx.createLinearGradient(0,0,c.width,0);
        grad.addColorStop(0,'#7c5cff'); grad.addColorStop(.5,'#4c9aff'); grad.addColorStop(1,'#00e5a8');
        ctx.strokeStyle = grad; ctx.lineWidth = 2;
        ctx.shadowColor = 'rgba(124,92,255,.4)'; ctx.shadowBlur = 8; ctx.stroke();
        // fill
        const g2 = ctx.createLinearGradient(0,0,0,c.height);
        g2.addColorStop(0,'rgba(124,92,255,.25)');
        g2.addColorStop(1,'rgba(0,0,0,0)');
        ctx.lineTo(c.width,c.height); ctx.lineTo(0,c.height); ctx.closePath();
        ctx.fillStyle = g2; ctx.fill();
        ctx.shadowBlur = 0;
      }
      size();
    })();

    // Utility: currency formatting
    const fmt = new Intl.NumberFormat('en-US', {style:'currency', currency:'USD', maximumFractionDigits:2});

    // Demo game state
    const demoState = {
      step: 0,
      price: 100,
      cash: 10000,
      shares: 0,
      avgCost: 0,
      goal: 11000,
      history: [100],
      animating: false,
      completed: false,
    };

    const el = {
      price: document.getElementById('dmPrice'),
      cash: document.getElementById('dmCash'),
      shares: document.getElementById('dmShares'),
      avg: document.getElementById('dmAvg'),
      pl: document.getElementById('dmPL'),
      pv: document.getElementById('dmPV'),
      goalbar: document.getElementById('dmGoalBar'),
      hint: document.getElementById('dmHint'),
      stepText: document.getElementById('dmStepText'),
      stepProgress: document.getElementById('dmStepProgress'),
      next: document.getElementById('dmNext'),
      qty: document.getElementById('dmQty'),
      buy: document.getElementById('buyBtn'),
      sell: document.getElementById('sellBtn'),
      goalHit: document.getElementById('dmGoalHit'),
      canvas: document.getElementById('dmCanvas'),
    };

    // Demo chart canvas setup
    function sizeDmCanvas(){
      const p = el.canvas.parentElement.getBoundingClientRect();
      el.canvas.width = p.width; el.canvas.height = p.height;
      drawDmChart();
    }
    window.addEventListener('resize', sizeDmCanvas);

    function drawDmChart(){
      const c = el.canvas; const ctx = c.getContext('2d');
      ctx.clearRect(0,0,c.width,c.height);
      // grid
      ctx.strokeStyle = 'rgba(255,255,255,.06)';
      ctx.lineWidth = 1;
      for(let i=0;i<5;i++){
        const y = (i/4)*c.height; ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(c.width,y); ctx.stroke();
      }
      // path
      ctx.beginPath();
      const arr = demoState.history;
      for(let i=0;i<arr.length;i++){
        const x = (i/(Math.max(1,arr.length-1)))*c.width;
        const min = 95, max = 112;
        const yVal = (arr[i]-min)/(max-min); // normalize
        const y = c.height - (yVal)*c.height;
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      const grad = ctx.createLinearGradient(0,0,c.width,0);
      grad.addColorStop(0,'#7c5cff'); grad.addColorStop(.6,'#4c9aff'); grad.addColorStop(1,'#00e5a8');
      ctx.strokeStyle = grad; ctx.lineWidth = 2;
      ctx.shadowColor = 'rgba(124,92,255,.4)'; ctx.shadowBlur = 8; ctx.stroke();
      // fill
      const g2 = ctx.createLinearGradient(0,0,0,c.height);
      g2.addColorStop(0,'rgba(124,92,255,.2)'); g2.addColorStop(1,'rgba(0,0,0,0)');
      ctx.lineTo(c.width,c.height); ctx.lineTo(0,c.height); ctx.closePath();
      ctx.fillStyle = g2; ctx.fill();
      ctx.shadowBlur = 0;
    }

    // Update UI
    function updateDmUI(){
      el.price.textContent = demoState.price.toFixed(2);
      el.cash.textContent = demoState.cash.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});
      el.shares.textContent = demoState.shares;
      el.avg.textContent = demoState.avgCost.toFixed(2);
      const uPnL = (demoState.price - demoState.avgCost) * demoState.shares;
      el.pl.textContent = (uPnL>=0?'+':'') + fmt.format(uPnL).replace('$','');
      el.pl.className = uPnL>=0 ? 'green' : 'red';
      const pv = demoState.cash + demoState.shares * demoState.price;
      el.pv.textContent = pv.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});
      const pct = Math.min(100, ((pv - 10000)/ (demoState.goal - 10000))*100);
      el.goalbar.style.width = Math.max(0,pct) + '%';
      el.goalHit.style.display = pv >= demoState.goal ? 'inline-flex' : 'none';
      const maxStep = 6;
      el.stepProgress.style.width = ((demoState.step)/(maxStep))*100 + '%';
      drawDmChart();
    }

    // Step machine
    function setStep(step){
      demoState.step = step;
      switch(step){
        case 0:
          el.hint.textContent = "Welcome! You have $10,000 virtual cash. Your mission: reach $11,000. Tap Next to begin.";
          el.stepText.textContent = "We’ll guide you. Start when ready.";
          el.next.disabled = false;
          el.buy.disabled = true; el.sell.disabled = true; el.qty.disabled = true;
          break;
        case 1:
          el.hint.textContent = "FRX is trading at $100. Let’s start simple: buy 100 shares.";
          el.stepText.textContent = "Enter 100 and press Buy. We’ll invest your cash.";
          el.qty.value = 100;
          el.buy.disabled = false; el.sell.disabled = true; el.qty.disabled = false;
          el.next.disabled = true;
          break;
        case 2:
          el.hint.textContent = "Great! You’re in. Now we’ll step through a price move. Tap Next to see it.";
          el.stepText.textContent = "Watch how portfolio value and P/L change as price moves.";
          el.buy.disabled = true; el.sell.disabled = true; el.qty.disabled = true;
          el.next.disabled = false;
          break;
        case 3:
          el.hint.textContent = "Price ticked up. Notice your unrealized profit increased.";
          el.stepText.textContent = "Ready for the next move? Tap Next.";
          el.next.disabled = false;
          break;
        case 4:
          el.hint.textContent = "Momentum continues. One last push to hit the goal.";
          el.stepText.textContent = "Tap Next for the final tick.";
          el.next.disabled = false;
          break;
        case 5:
          el.hint.textContent = "Goal! Your portfolio reached $11,000. You could sell to lock in profit.";
          el.stepText.textContent = "Tap Next to wrap up this demo.";
          el.sell.disabled = false; // allow them to explore selling if they want
          el.next.disabled = false;
          break;
        case 6:
          el.hint.textContent = "Nice work! Let’s celebrate your first clear win.";
          el.stepText.textContent = "Opening celebration…";
          el.next.disabled = true;
          setTimeout(openCelebrate, 600);
          break;
      }
      updateDmUI();
    }

    // Animate price to target with small steps
    function animatePriceTo(target, after){
      if(demoState.animating) return;
      demoState.animating = true;
      const steps = 14; // smooth & a bit slower
      const start = demoState.price;
      const diff = target - start;
      let i = 0;
      const iv = setInterval(()=>{
        i++;
        const p = start + diff * (i/steps);
        demoState.price = +p.toFixed(2);
        demoState.history.push(demoState.price);
        updateDmUI();
        if(i>=steps){
          clearInterval(iv);
          demoState.animating = false;
          after && after();
        }
      }, 120); // ~1.7s
    }

    // Buy/Sell
    function demoBuy(){
      if(demoState.step !== 1) return;
      const qty = Math.max(1, Math.floor(+el.qty.value||0));
      const cost = qty * demoState.price;
      if(cost > demoState.cash){
        el.hint.textContent = "Not enough cash for that size. Try 100 shares to invest $10,000.";
        return;
      }
      // execute
      demoState.cash -= cost;
      const totalCost = demoState.avgCost*demoState.shares + cost;
      demoState.shares += qty;
      demoState.avgCost = totalCost / demoState.shares;
      demoState.history.push(demoState.price);
      updateDmUI();
      el.hint.textContent = "Bought! You invested $" + (qty*demoState.price).toFixed(2) + ". Tap Next to see price action.";
      el.buy.disabled = true; el.sell.disabled = true; el.qty.disabled = true;
      el.next.disabled = false;
      setStep(2);
    }
    function demoSell(){
      if(demoState.shares<=0) return;
      const qty = demoState.shares; // sell all for simplicity
      const proceeds = qty * demoState.price;
      demoState.cash += proceeds;
      demoState.shares = 0;
      demoState.avgCost = 0;
      demoState.history.push(demoState.price);
      updateDmUI();
      el.hint.textContent = "You closed your position and locked in your profit.";
      el.sell.disabled = true;
    }

    function demoNext(){
      if(demoState.animating) return;
      switch(demoState.step){
        case 0: setStep(1); break;
        case 2:
          animatePriceTo(103, ()=> setStep(3));
          break;
        case 3:
          animatePriceTo(106, ()=> setStep(4));
          break;
        case 4:
          animatePriceTo(110, ()=>{
            // Check goal
            const pv = demoState.cash + demoState.shares * demoState.price;
            if(pv >= demoState.goal) setStep(5);
            else setStep(4);
          });
          break;
        case 5:
          setStep(6);
          break;
        default:
          break;
      }
    }

    function demoReset(){
      demoState.step = 0; demoState.price = 100; demoState.cash = 10000; demoState.shares = 0; demoState.avgCost=0; demoState.history=[100]; demoState.completed=false;
      el.buy.disabled = true; el.sell.disabled = true; el.qty.disabled = true; el.qty.value = 100;
      sizeDmCanvas();
      setStep(0);
    }

    // Modal controls
    function openModal(id){
      const m = document.getElementById(id);
      m.setAttribute('aria-hidden','false');
      if(id==='demoModal'){
        demoReset();
        setTimeout(sizeDmCanvas,10);
      }
    }
    function closeModal(id){
      const m = document.getElementById(id);
      m.setAttribute('aria-hidden','true');
    }

    // Celebrate controls
    function openCelebrate(){
      const cel = document.getElementById('celebrate');
      cel.setAttribute('aria-hidden','false');
      spawnConfetti();
      demoState.completed = true;
      // after 2 seconds, auto open waitlist modal as aggressive interest prompt
      setTimeout(()=>{ if(!document.hidden) closeCelebrateThenOpenWaitlist(); }, 2400);
    }
    function closeCelebrate(){
      document.getElementById('celebrate').setAttribute('aria-hidden','true');
    }
    function closeCelebrateThenOpenWaitlist(){
      closeCelebrate();
      openModal('waitlistModal');
    }

    // Confetti
    function spawnConfetti(){
      const holder = document.getElementById('confetti');
      holder.innerHTML = '';
      for(let i=0;i<80;i++){
        const p = document.createElement('div');
        p.style.position='absolute';
        p.style.left = Math.random()*100 + '%';
        p.style.top = '-10px';
        const size = 6 + Math.random()*6;
        p.style.width = size+'px'; p.style.height=size+'px';
        p.style.background = ['#7c5cff','#00e5a8','#ffb300','#4c9aff','#ff6a88'][Math.floor(Math.random()*5)];
        p.style.transform = `rotate(${Math.random()*360}deg)`;
        p.style.borderRadius = Math.random()>.5 ? '2px' : '50%';
        p.style.opacity = .9;
        p.style.transition = `transform ${2+Math.random()*1.2}s cubic-bezier(.2,.8,.2,1), top ${2+Math.random()*1.2}s linear, opacity .4s ease`;
        holder.appendChild(p);
        requestAnimationFrame(()=>{
          p.style.top = (90 + Math.random()*15) + '%';
          p.style.transform = `translate(${(-40+Math.random()*80)}px,0) rotate(${90+Math.random()*360}deg)`;
        });
        setTimeout(()=>{ p.style.opacity = 0; }, 2200);
      }
      setTimeout(()=> holder.innerHTML='', 3200);
    }

    // Waitlist handler (stores locally for this demo)
    function joinWaitlist(emailId, nameId, phoneId){
      const emailEl = document.getElementById(emailId);
      const email = emailEl && emailEl.value ? emailEl.value.trim() : (typeof emailId==='string' ? emailId : '');
      const name = nameId ? (document.getElementById(nameId)?.value || '').trim() : '';
      const phone = phoneId ? (document.getElementById(phoneId)?.value || '').trim() : '';
      if(!/^\S+@\S+\.\S+$/.test(email)){
        alert('Please enter a valid email to join the waitlist.');
        return;
      }
      const item = {email,name,phone,ts: Date.now()};
      const key = 'fracshr_waitlist';
      const prev = JSON.parse(localStorage.getItem(key) || '[]');
      if(prev.some(x=>x.email===email)){
        alert('You’re already on the list. Thank you!');
      }else{
        prev.push(item);
        localStorage.setItem(key, JSON.stringify(prev));
        alert('🎉 You’re in! We’ll notify you when we launch.');
      }
      // subtle UX: close modal if open
      closeModal('waitlistModal');
    }

    // Open demo on query ?demo=1
    (function autoDemo(){
      const url = new URL(window.location.href);
      if(url.searchParams.get('demo')==='1'){ openModal('demoModal'); }
    })();

    // Accessibility: ESC closes modals
    document.addEventListener('keydown', (e)=>{
      if(e.key==='Escape'){
        closeModal('demoModal');
        closeModal('waitlistModal');
        closeCelebrate();
      }
    });
  </script>
</body>
</html>
